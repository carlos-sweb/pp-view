!function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["ppModel","ppElementjson","ppEvents","ppIs","ppElement","exports"],(function(r,i,o,n,s){t.ppView=e(t,s,r,i,o,n,l)}));else if("undefined"!=typeof exports){var r={},i={},o={},n={},l={};try{r=require("pp-model.js")}catch(e){}try{i=require("pp-elementjson.js")}catch(e){}try{o=require("pp-events")}catch(e){}try{n=require("pp-is")}catch(e){}try{l=require("pp-element")}catch(e){}e(t,exports,r,i,o,n,l)}else t.ppView=e(t,{},t.ppModel,t.ppElementjson,t.ppEvents,t.ppIs,t.ppElement)}((function(e,t,r,i,o,n,l){var s=n.isFunction,p=n.isObject,a=n.isString,c=n.isUndefined,v=n.isElement,f=n.isNull,u=console.warn,d=console.error,h=function(e,t){return e.hasOwnProperty(t)},m=function(e){return Object.keys(e)};function w(e){throw e}function b(e){return p(e)?h(e,"template")?a(e.template)?e.template:w("Must template option will be string"):h(e,"templateJson")?p(e.templateJson)?e.templateJson:w("Must templateJson option will be object"):h(e,"templateUrl")?(t=e.templateUrl,a(t)?e.templateUrl:w("Must templateUrl option will be string url")):void 0:"";var t}return function(e){if(void 0===e)return d("Crital Error"),void d("pp-view say : Must provide object config");if(!p(e))return d("Crital Error"),void d("pp-view say : Must provide object config");try{this.view=function(e){p(e)||w("options dont defined");var t="View dont defined";return h(e,"view")?a(e.view)?""!==e.view?f(document.querySelector("[pp-view="+e.view+"]"))?w(t):document.querySelector("[pp-view="+e.view+"]"):w(t):v(e.view)?e.view:w(t):w(t)}(e)}catch(e){return d("Critical Error: "),void d("pp-view say : "+e)}try{this.template=b(e)}catch(e){u(e)}if(this.model=function(e){if(!p(e))return{};var t=h(e,"model")&&p(e.model)?e.model:{},i=s(r)?new r:t;return s(i)?new i(t):i}(e),h(e,"observe")&&p(e.observe))for(var t=m(e.observe),i=0;i<t.length;i++)this.model.has(t[i])&&s(e.observe[t[i]])&&this.model.on("changed:count",e.observe[t[i]].bind(this));if(this.methods=h(e,"methods")&&p(e.methods)?e.methods:{},!c(this.template)&&function(e,t){a(t)&&v(e)&&(e.innerHTML=t)}(this.view,this.template),function(e,t,r,i){var o={};if(h(e,"events")&&(o=e.events,p(o)))for(var n=m(o),s=0;s<n.length;s++){var a=n[s].split("|"),u=o[n[s]];if(2===a.length&&""!==a[0]&&""!==a[1])for(var d=a[0].split(","),w=a[1],b=0;b<d.length;b++){var y=d[b].trim();if(v(t)&&""!==y){try{var g=t.querySelectorAll(y)}catch(e){g=null}if(!f(g))for(var j=0;j<g.length;j++)g[j].addEventListener(w,(function(e){var t=c(l)?e.currentTarget:l(e.currentTarget);try{r[u](t,i,e)}catch(e){}}))}}}}(e,this.view,this.methods,this.model),h(e,"controller")&&s(e.controller)){this.controller=e.controller;var o=c(l)?this.view:l(this.view);this.controller(o,this.model)}}}));